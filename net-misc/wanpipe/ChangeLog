# ChangeLog for net-misc/wanpipe
# Copyright 1999-2012 Gentoo Foundation; Distributed under the GPL v2
# $Header: $

  13 Jun 2012; Vadim A. Misbakh-Soloviov <mva@mva.name> wanpipe-3.5.27.ebuild,
  wanpipe-3.7.0_p8.ebuild:
  bump!

*wanpipe-3.7.0_p8 (24 May 2012)
*wanpipe-3.5.27 (24 May 2012)

  24 May 2012; Vadim A. Misbakh-Soloviov <mva@mva.name>
  files/extract_symver.sh, -files/wanpipe-3.5.10-Makefile.patch,
  -files/wanpipe-3.5.10-QA-fix-const-char-warnings.patch,
  -files/wanpipe-3.5.10-QA-fix-format-literal-warnings.patch,
  -files/wanpipe-3.5.10-QA-fix-libstelephony.patch,
  -files/wanpipe-3.5.10-QA-fix-parallel-make.patch,
  -files/wanpipe-3.5.10-linux-2.6.31.patch,
  -files/wanpipe-3.5.10-silence-QA-warnings.patch,
  -files/wanpipe-3.5.10_p10-Makefile.patch,
  -files/wanpipe-3.5.11-linux-2.6.35.patch,
  -files/wanpipe-3.5.12-QA-fix-parallel-make.patch,
  -files/wanpipe-3.5.14-QA-fix-parallel-make.patch,
  -files/wanpipe-3.5.14-dahdi-location.patch,
  -files/wanpipe-3.5.15-QA-fix-parallel-make.patch,
  -files/wanpipe-3.5.15-dahdi-2.4.0.patch,
  -files/wanpipe-3.5.15-linux-2.6.36.patch,
  -files/wanpipe-3.5.16-Makefile.patch,
  -files/wanpipe-3.5.16-QA-fix-format-literal-warnings.patch,
  -files/wanpipe-3.5.16-QA-fix-parallel-make.patch,
  -files/wanpipe-3.5.16-dahdi-location.patch,
  -files/wanpipe-3.5.17-linux-2.6.37.patch,
  -files/wanpipe-3.5.18-QA-fix-parallel-make.patch,
  -files/wanpipe-3.5.19-disable-ldconfig.patch,
  -files/wanpipe-3.5.20-QA-fix-parallel-make.patch,
  -files/wanpipe-3.5.20-libstelephony-cleanup.patch,
  -files/wanpipe-3.5.20-linux-2.6.39.patch,
  -files/wanpipe-3.5.20-linux-3.0.patch, -files/wanpipe-3.5.22-Makefile.patch,
  -files/wanpipe-3.5.22-QA-fix-parallel-make.patch,
  -files/wanpipe-3.5.22-dahdi-location.patch,
  -files/wanpipe-3.5.22-wancfg_legacy-Makefile.patch,
  -files/wanpipe-3.5.23-QA-fix-parallel-make.patch,
  -files/wanpipe-3.5.24-Makefile.patch,
  -files/wanpipe-3.5.24-QA-fix-const-char-warnings.patch,
  -files/wanpipe-3.5.24-QA-fix-format-literal-warnings.patch,
  -files/wanpipe-3.5.24-QA-fix-parallel-make.patch,
  -files/wanpipe-3.5.24-QA-fix-warn_unused_result-legacy.patch,
  -files/wanpipe-3.5.24-QA-fix-warn_unused_result.patch,
  -files/wanpipe-3.5.24-linux-3.1.patch, +files/wanpipe-3.5.27-Makefile.patch,
  +files/wanpipe-3.5.27-QA-fix-const-char-warnings.patch,
  +files/wanpipe-3.5.27-QA-fix-format-literal-warnings.patch,
  +files/wanpipe-3.5.27-QA-fix-parallel-make.patch,
  +files/wanpipe-3.5.27-QA-fix-warn_unused_result-legacy.patch,
  +files/wanpipe-3.5.27-QA-fix-warn_unused_result.patch,
  -wanpipe-3.5.12.ebuild, -wanpipe-3.5.14.ebuild, -wanpipe-3.5.15.ebuild,
  -wanpipe-3.5.15-r1.ebuild, -wanpipe-3.5.16.ebuild, -wanpipe-3.5.17.ebuild,
  -wanpipe-3.5.17_p9.ebuild, -wanpipe-3.5.18.ebuild, -wanpipe-3.5.19.ebuild,
  -wanpipe-3.5.20.ebuild, -wanpipe-3.5.22.ebuild, -wanpipe-3.5.23.ebuild,
  -wanpipe-3.5.24.ebuild, +wanpipe-3.5.27.ebuild, +wanpipe-3.7.0_p8.ebuild:
  some fixes

  Signed-off-by: Vadim A. Misbakh-Soloviov <mva@mva.name>

  01 Feb 2012; Stefan Knoblich <s.knoblich@axsentis.de>
  files/wanpipe-3.5.24-linux-3.1.patch:
  wanpipe-3.5.24: fix wanrouter script for >=linux-3.1

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  21 Nov 2011; Stefan Knoblich <s.knoblich@axsentis.de> wanpipe-3.5.24.ebuild:
  wanpipe-3.5.24: Add sys-devel/flex and sys-devel/gcc (w/ c++ support) to
  dependencies.

  GCC is a runtime dependency (C++ required by wancfg and wan_aftup),
  flex is buildtime only.

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  17 Nov 2011; Stefan Knoblich <s.knoblich@axsentis.de>
  files/wanpipe-3.5.24-QA-fix-const-char-warnings.patch,
  +files/wanpipe-3.5.24-QA-fix-format-literal-warnings.patch,
  +files/wanpipe-3.5.24-QA-fix-warn_unused_result-legacy.patch,
  +files/wanpipe-3.5.24-QA-fix-warn_unused_result.patch,
  wanpipe-3.5.24.ebuild:
  wanpipe-3.5.24: More QA fixes.

  No strict aliasing or strcpy overflow ones though.

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  17 Nov 2011; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.24-linux-3.1.patch, wanpipe-3.5.24.ebuild:
  wanpipe-3.5.24: Fix compilation on linux-3.1.

  Linux versions prior to 3.1 defined HAVE_NET_DEVICE_OPS in netdevice.h
  and wanpipe relies on this to (and not the kernel version) to deceide which
  set of macros to use to access netdev ops.

  The new kernel dropped this precompiler constant and wanpipe falls back to
  the old (pre-2.6.3X) version of macros which rely on all the netdev op
  function
  pointer to still be in struct net_device.

  Something along the lines of:

  in patches/kdrivers/include/wanpipe_{kernel,defines}.h
  fixes this problem. (The one in wanpipe_defines.h additionally trying
  to avoid a possible redefinition warning (but maybe that's not needed;
  too lazy to check)).

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  17 Nov 2011; Stefan Knoblich <s.knoblich@axsentis.de> wanpipe-3.5.23.ebuild:
  wanpipe-3.5.23: Add sys-devel/bison to DEPENDS.

  3.5.24 ebuild has this one already.

  Reported-by: Jason Komar <jkomar@jbox.ca>
  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

*wanpipe-3.5.24 (17 Nov 2011)

  17 Nov 2011; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.24-Makefile.patch,
  +files/wanpipe-3.5.24-QA-fix-const-char-warnings.patch,
  +files/wanpipe-3.5.24-QA-fix-parallel-make.patch, +wanpipe-3.5.24.ebuild:
  wanpipe: Add 3.5.24

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  10 Nov 2011; Stefan Knoblich <s.knoblich@axsentis.de> wanpipe-3.5.23.ebuild:
  wanpipe-3.5.23: Fix WAN_LOCK and WAN_LOCK_DIR location.

  There's no /var/lock/subsys on Gentoo, just use /var/lock (+ /wanrouter).

  10 Nov 2011; Stefan Knoblich <s.knoblich@axsentis.de> wanpipe-3.5.23.ebuild:
  wanpipe-3.5.23: Use EAPI=4

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  17 Oct 2011; Stefan Knoblich <s.knoblich@axsentis.de> wanpipe-3.5.23.ebuild:
  wanpipe: Parallel make install breaks, force -j1

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

*wanpipe-3.5.23 (14 Sep 2011)

  14 Sep 2011; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.23-QA-fix-parallel-make.patch, +wanpipe-3.5.23.ebuild:
  Add wanpipe-3.5.23

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  25 Aug 2011; Stefan Knoblich <s.knoblich@axsentis.de> +files/wanrouter.rc6,
  wanpipe-3.5.22.ebuild:
  wanpipe-3.5.22: Add wanrouter init script

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

*wanpipe-3.5.22 (25 Aug 2011)

  25 Aug 2011; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.22-Makefile.patch,
  +files/wanpipe-3.5.22-QA-fix-parallel-make.patch,
  +files/wanpipe-3.5.22-dahdi-location.patch,
  +files/wanpipe-3.5.22-wancfg_legacy-Makefile.patch, +wanpipe-3.5.22.ebuild:
  wanpipe-3.5.22: "native" linux-2.6.39 and 3.0 support, dropping the
  experimental patches

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  23 Jul 2011; Stefan Knoblich <s.knoblich@axsentis.de>
  files/wanpipe-3.5.20-linux-2.6.39.patch,
  +files/wanpipe-3.5.20-linux-3.0.patch, wanpipe-3.5.20.ebuild:
  wanpipe-3.5.20: Rework 2.6.39+ patch for 3.0-rtX support, fix wanrouter
  script for linux-3.0.

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  30 Jun 2011; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.20-linux-2.6.39.patch, wanpipe-3.5.20.ebuild:
  wanpipe: Add (experimental) linux-2.6.39 / 3.0 support

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  30 Jun 2011; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.20-libstelephony-cleanup.patch, wanpipe-3.5.20.ebuild:
  wanpipe: Add libstelephony autotools cleanup patch from pre-3.5.21 to fix
  build error.

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

*wanpipe-3.5.20 (19 Apr 2011)

  19 Apr 2011; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.20-QA-fix-parallel-make.patch, +wanpipe-3.5.20.ebuild:
  wanpipe-3.5.20: version bump, update parallel make QA patch

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

*wanpipe-3.5.19 (05 Mar 2011)

  05 Mar 2011; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.19-disable-ldconfig.patch, +wanpipe-3.5.19.ebuild:
  wanpipe-3.5.19: version bump, add "vanilla" useflag that disables custom
  patches (NOTE: also disables >=2.6.37 kernel support)

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  15 Jan 2011; Stefan Knoblich <s.knoblich@axsentis.de> +files/wanpipe.rules,
  wanpipe-3.5.18.ebuild:
  wanpipe-3.5.18: add udev rules file, default permissions are root:dialout
  0660 (rw-rw----) now

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

*wanpipe-3.5.18 (23 Nov 2010)

  23 Nov 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.18-QA-fix-parallel-make.patch, +wanpipe-3.5.18.ebuild:
  wanpipe: add 3.5.18

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

*wanpipe-3.5.17_p9 (01 Nov 2010)

  01 Nov 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.17-linux-2.6.37.patch, wanpipe-3.5.16.ebuild,
  wanpipe-3.5.17.ebuild, +wanpipe-3.5.17_p9.ebuild:
  wanpipe: add 3.5.17_p9 ebuild (including experimental 2.6.37 support) and
  fix dahdi support in >=3.5.16 ebuilds

*wanpipe-3.5.17 (13 Oct 2010)

  13 Oct 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +wanpipe-3.5.17.ebuild:
  wanpipe: add 3.5.17

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

*wanpipe-3.5.16 (06 Oct 2010)

  06 Oct 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.16-Makefile.patch,
  +files/wanpipe-3.5.16-QA-fix-format-literal-warnings.patch,
  +files/wanpipe-3.5.16-QA-fix-parallel-make.patch,
  +files/wanpipe-3.5.16-dahdi-location.patch, +wanpipe-3.5.16.ebuild:
  wanpipe: add 3.5.16

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

*wanpipe-3.5.15-r1 (14 Sep 2010)

  14 Sep 2010; root <root@localhost.(none)>
  +files/wanpipe-3.5.15-dahdi-2.4.0.patch, -wanpipe-3.5.10.ebuild,
  -wanpipe-3.5.11-r2.ebuild, wanpipe-3.5.12.ebuild, wanpipe-3.5.14.ebuild,
  wanpipe-3.5.15.ebuild, +wanpipe-3.5.15-r1.ebuild:
  wanpipe: Add experimental dahdi-2.4.0 support to wanpipe-3.5.15(-r1), update
  dahdi dependencies on other ebuilds and drop old ones.

  Signed-off-by: root <root@localhost.(none)>

*wanpipe-3.5.15 (09 Sep 2010)

  09 Sep 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.14-dahdi-location.patch,
  +files/wanpipe-3.5.15-QA-fix-parallel-make.patch,
  +files/wanpipe-3.5.15-linux-2.6.36.patch, +wanpipe-3.5.15.ebuild:
  wanpipe: add 3.5.15

  - includes updated parallel make patch

  - experimental dahdi location patch

  - experimental 2.6.36 support
    (unlocked_ioctl ABI changes, needs a locking audit)

  Signed-off-by: Stefan Knoblich <s.knoblich@axsentis.de>

  15 Jul 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  files/extract_symver.sh:
  wanpipe: fix prefix handling for modules in additional subdirectories

  15 Jul 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  files/extract_symver.sh:
  wanpipe: really only skip padding lines that consist of 16(!) "." on a
  single line in the ascii output of readline

  14 Jul 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  files/extract_symver.sh:
  wanpipe: only skip over (padding) lines that consist entirely of "." chars,
  fixes a problem where a couple of symbols from dahdi were missing (and
  wanpipe modules would not load)

*wanpipe-3.5.14 (05 Jul 2010)

  05 Jul 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.14-QA-fix-parallel-make.patch, +wanpipe-3.5.14.ebuild:
  wanpipe: add 3.5.14

*wanpipe-3.5.12 (29 Jun 2010)

  29 Jun 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.12-QA-fix-parallel-make.patch, +wanpipe-3.5.12.ebuild:
  wanpipe: add 3.5.12

  06 Jun 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  files/extract_symver.sh, +files/wanpipe-3.5.11-linux-2.6.35.patch,
  wanpipe-3.5.10.ebuild, wanpipe-3.5.11-r2.ebuild:
  wanpipe: Add missing "die", bugfixes and improvements for extract_symver.sh
  script (handle ascii space chars in crc checksums correctly)

*wanpipe-3.5.11-r2 (28 May 2010)

  28 May 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  -wanpipe-3.5.10_p10.ebuild, -wanpipe-3.5.10_p10-r1.ebuild,
  -wanpipe-3.5.10_p13.ebuild, -wanpipe-3.5.11.ebuild,
  -wanpipe-3.5.11-r1.ebuild, +wanpipe-3.5.11-r2.ebuild,
  -wanpipe-3.5.11_p5.ebuild, -wanpipe-3.5.11_p5-r1.ebuild:
  wanpipe: remove all ebuilds that used custom wanpipe versions, only use
  official releases from now on

*wanpipe-3.5.11_p5-r1 (19 May 2010)
*wanpipe-3.5.11_p5 (19 May 2010)

  19 May 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +wanpipe-3.5.11_p5.ebuild, +wanpipe-3.5.11_p5-r1.ebuild:
  wanpipe: add 3.5.11_p5 (= wanpipe 3.5.11.5b) and _p5-r1 (.5c)

*wanpipe-3.5.11-r1 (23 Apr 2010)

  23 Apr 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +wanpipe-3.5.11-r1.ebuild:
  wanpipe: add 3.5.11-r1 (= wanpipe 3.5.11b)

*wanpipe-3.5.11 (12 Apr 2010)

  12 Apr 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +wanpipe-3.5.11.ebuild:
  wanpipe: add 3.5.11

*wanpipe-3.5.10_p13 (06 Apr 2010)

  06 Apr 2010; stkn <stkn@localhost.(none)> +wanpipe-3.5.10_p13.ebuild:
  wanpipe: add 3.5.10_p13 (=> wanpipe-3.5.10.13)

*wanpipe-3.5.10_p10-r1 (30 Mar 2010)

  30 Mar 2010; stkn <stkn@localhost.(none)> +wanpipe-3.5.10_p10-r1.ebuild:
  wanpipe: add 3.5.10_p10-r1 (=> wanpipe-3.5.10.10d)

*wanpipe-3.5.10_p10 (29 Mar 2010)

  29 Mar 2010; stkn <stkn@localhost.(none)>
  +files/wanpipe-3.5.10-QA-fix-const-char-warnings.patch,
  +files/wanpipe-3.5.10_p10-Makefile.patch, +wanpipe-3.5.10_p10.ebuild:
  wanpipe: add ebuild for the recommended version of wanpipe for
  freeswitch/openzap

  20 Mar 2010; stkn <stkn@localhost.(none)> wanpipe-3.5.10.ebuild:
  wanpipe: Add KVERS and KDIR variables to emake install, or we may end up
  installing into the wrong modules directory (ie: of the running kernel, not
  of the symlinked one)

  14 Mar 2010; stkn <stkn@localhost.(none)>
  +files/wanpipe-3.5.10-QA-fix-format-literal-warnings.patch,
  wanpipe-3.5.10.ebuild:
  wanpipe: Silence "warning: format not a string literal and no format
  arguments"

  14 Mar 2010; stkn <stkn@localhost.(none)>
  +files/wanpipe-3.5.10-linux-2.6.31.patch, wanpipe-3.5.10.ebuild:
  Add experimental patch for >=linux-2.6.31 support (netdev_ops changes).
  Compile tested on 2.6.34-rc1.

  06 Mar 2010; stkn <stkn@localhost.(none)> files/extract_symver.sh,
  wanpipe-3.5.10.ebuild:
  wanpipe: Add support for x86_64. Symbol name offset is different on 64bit
  vs. 32bit, fix extract_symver.sh to account for that, by looking at the ELF
  class of each module.ko file.

  08 Feb 2010; Stefan Knoblich <s.knoblich@axsentis.de>
  +files/wanpipe-3.5.10-QA-fix-libstelephony.patch, wanpipe-3.5.10.ebuild:
  wanpipe: Move samples from /etc/wanpipe/samples to
  /usr/share/doc/wanpipe-*/samples.
           Remove unneeded stuff in /etc/wanpipe (duplicate binaries,
  Makefiles,
           build-related shell scripts, etc.).
           Build and install libsangoma and libstelephony in all cases.
           Add dahdi useflag to control type of build (dahdi/zaptel interface
  vs. native;
           default being dahdi).

  07 Feb 2010; Stefan Knoblich <s.knoblich@axsentis.de> wanpipe-3.5.10.ebuild:
  Remove setup-sangoma (trixbox) script before installing wanpipe

*wanpipe-3.5.10 (06 Feb 2010)

  06 Feb 2010; stkn <stkn@epia.tuxtv.org> +files/extract_symver.sh,
  +files/wanpipe-3.5.10-Makefile.patch,
  +files/wanpipe-3.5.10-QA-fix-parallel-make.patch,
  +files/wanpipe-3.5.10-silence-QA-warnings.patch, +wanpipe-3.5.10.ebuild:
  Add initial wanpipe-3.5.10 ebuild (works on x86 linux-2.6.30 +
  dahdi-2.2.0.1)

